import Rt from"./HKxpJP38.js";import{d as Dt,r as pt,N as Ft,M as Vt,q as U,v as $t,x as mt,P as I,B as Ht,y as Ut,z as yt,t as Gt}from"./Ch2-AutY.js";import{c as Jt}from"./Cpj98o6Y.js";import"./BBxZe1To.js";import"./BaJ8eWHk.js";import"./B56lg8N-.js";import"./BDJurBW2.js";var it={exports:{}};it.exports;(function(G){(function(L,R){var _=function(m){function g(t,i,n){return parseInt(t.substr(i,n),16)}function x(t){return(t|=0)<0?"00":t<16?"0"+t.toString(16):t<256?t.toString(16):"ff"}function y(t,i,n){return x(255*((n=n<0?n+6:n>6?n-6:n)<1?t+(i-t)*n:n<3?i:n<4?t+(i-t)*(4-n):t))}function rt(t){if(/^#[0-9a-f]{3,8}$/i.test(t)){var i,n=t.length;if(n<6){var o=t[1],r=t[2],e=t[3],a=t[4]||"";i="#"+o+o+r+r+e+e+a+a}return(n==7||n>8)&&(i=t),i}}function ot(t){var i,n=g(t,7,2);return isNaN(n)?i=t:i="rgba("+g(t,1,2)+","+g(t,3,2)+","+g(t,5,2)+","+(n/255).toFixed(2)+")",i}function wt(t,i,n){var o;if(i==0){var r=x(255*n);o=r+r+r}else{var e=n<=.5?n*(i+1):n+i-n*i,a=2*n-e;o=y(a,e,6*t+2)+y(a,e,6*t)+y(a,e,6*t-2)}return"#"+o}function B(t,i,n){var o=[.55,.5,.5,.46,.6,.55,.55][6*t+.5|0];return wt(t,i,n=n<.5?n*o*2:o+(n-.5)*(1-o)*2)}var J=m,j={G:"jdenticon_config",n:"config"},D={};function bt(t){D=t}function xt(t){return arguments.length&&(D[j.n]=t),D[j.n]}function St(t,i){var n=typeof t=="object"&&t||D[j.n]||J[j.G]||{},o=n.lightness||{},r=n.saturation||{},e="color"in r?r.color:r,a=r.grayscale,f=n.backColor,s=n.padding;function u(h,l){var c=o[h];return c&&c.length>1||(c=l),function(v){return(v=c[0]+v*(c[1]-c[0]))<0?0:v>1?1:v}}function d(h){var l,c=n.hues;return c&&c.length>0&&(l=c[0|.999*h*c.length]),typeof l=="number"?(l/360%1+1)%1:h}return{X:d,p:typeof e=="number"?e:.5,H:typeof a=="number"?a:0,q:u("color",[.4,.8]),I:u("grayscale",[.3,.9]),J:rt(f),Y:typeof t=="number"?t:typeof s=="number"?s:i}}var et=1,Ct=2,S={t:"data-jdenticon-hash",o:"data-jdenticon-value"},K="jdenticonRendered",W="["+S.t+"],["+S.o+"]",O=typeof document<"u"&&document.querySelectorAll.bind(document);function Y(t){if(t){var i=t.tagName;if(/^svg$/i.test(i))return et;if(/^canvas$/i.test(i)&&"getContext"in t)return Ct}}function Tt(t){function i(){document.removeEventListener("DOMContentLoaded",i),window.removeEventListener("load",i),setTimeout(t,0)}typeof document<"u"&&typeof window<"u"&&typeof setTimeout<"u"&&(document.readyState==="loading"?(document.addEventListener("DOMContentLoaded",i),window.addEventListener("load",i)):setTimeout(t,0))}function jt(t){typeof MutationObserver<"u"&&new MutationObserver(function(i){for(var n=0;n<i.length;n++){for(var o=i[n],r=o.addedNodes,e=0;r&&e<r.length;e++){var a=r[e];if(a.nodeType==1)if(Y(a))t(a);else for(var f=a.querySelectorAll(W),s=0;s<f.length;s++)t(f[s])}o.type=="attributes"&&Y(o.target)&&t(o.target)}}).observe(document.body,{childList:!0,attributes:!0,attributeFilter:[S.o,S.t,"width","height"],subtree:!0})}function F(t,i){this.x=t,this.y=i}function Z(t,i,n,o){this.u=t,this.v=i,this.K=n,this.Z=o}Z.prototype.L=function(t,i,n,o){var r=this.u+this.K,e=this.v+this.K,a=this.Z;return a===1?new F(r-i-(o||0),this.v+t):a===2?new F(r-t-(n||0),e-i-(o||0)):a===3?new F(this.u+i,e-t-(n||0)):new F(this.u+t,this.v+i)};var Mt=new Z(0,0,0,0);function at(t){this.M=t,this.A=Mt}var P=at.prototype;function At(t,i,n,o){var r,e,a,f,s,u;(t%=14)?t==1?(a=0|.5*n,f=0|.8*n,i.j(n-a,0,a,f,2)):t==2?(a=0|n/3,i.i(a,a,n-a,n-a)):t==3?(u=n<6?1:n<8?2:0|.25*n,s=(s=.1*n)>1?0|s:s>.5?1:s,i.i(u,u,n-s-u,n-s-u)):t==4?(e=0|.15*n,a=0|.5*n,i.h(n-a-e,n-a-e,a)):t==5?((u=4*(s=.1*n))>3&&(u|=0),i.i(0,0,n,n),i.g([u,u,n-s,u,u+(n-u-s)/2,n-s],!0)):t==6?i.g([0,0,n,0,n,.7*n,.4*n,.4*n,.7*n,n,0,n]):t==7?i.j(n/2,n/2,n/2,n/2,3):t==8?(i.i(0,0,n,n/2),i.i(0,n/2,n/2,n/2),i.j(n/2,n/2,n/2,n/2,1)):t==9?(s=.14*n,u=n<4?1:n<6?2:0|.35*n,s=n<8?s:0|s,i.i(0,0,n,n),i.i(u,u,n-u-s,n-u-s,!0)):t==10?(u=3*(s=.12*n),i.i(0,0,n,n),i.h(u,u,n-s-u,!0)):t==11?i.j(n/2,n/2,n/2,n/2,3):t==12?(e=.25*n,i.i(0,0,n,n),i.N(e,e,n-e,n-e,!0)):!o&&(e=.4*n,a=1.2*n,i.h(e,e,a)):(r=.42*n,i.g([0,0,n,0,n,n-2*r,n-r,n,0,n]))}function st(t,i,n){var o;(t%=4)?t==1?i.j(0,n/2,n,n/2,0):t==2?i.N(0,0,n,n):(o=n/6,i.h(o,o,n-2*o)):i.j(0,0,n,n,0)}function Nt(t,i){return[B(t=i.X(t),i.H,i.I(0)),B(t,i.p,i.q(.5)),B(t,i.H,i.I(1)),B(t,i.p,i.q(1)),B(t,i.p,i.q(0))]}function X(t,i,n){var o=St(n,.08);o.J&&t.m(o.J);var r=t.k,e=.5+r*o.Y|0;r-=2*e;var a=new at(t),f=0|r/4,s=0|e+r/2-2*f,u=0|e+r/2-2*f;function d(b,w,H,q,nt){var Et=g(i,H,1),It=q?g(i,q,1):0;t.O(l[c[b]]);for(var E=0;E<nt.length;E++)a.A=new Z(s+nt[E][0]*f,u+nt[E][1]*f,f,It++%4),w(Et,a,f,E);t.P()}var h,l=Nt(g(i,-7)/268435455,o),c=[];function v(b){if(b.indexOf(h)>=0){for(var w=0;w<b.length;w++)if(c.indexOf(b[w])>=0)return!0}}for(var T=0;T<3;T++)h=g(i,8+T,1)%l.length,(v([0,4])||v([2,3]))&&(h=1),c.push(h);d(0,st,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),d(1,st,4,5,[[0,0],[3,0],[3,3],[0,3]]),d(2,At,1,null,[[1,1],[2,1],[2,2],[1,2]]),t.finish()}function kt(t){var i,n=40,o=16,r=0,e=0,a=encodeURI(t)+"%80",f=[],s=[],u=1732584193,d=4023233417,h=~u,l=~d,c=3285377520,v=[u,d,h,l,c],T=0,b="";function w(H,q){return H<<q|H>>>32-q}for(;r<a.length;e++)f[e>>2]=f[e>>2]|(a[r]=="%"?parseInt(a.substring(r+1,r+=3),16):a.charCodeAt(r++))<<8*(3-(3&e));for(f[(i=(1+(e+7>>6))*o)-1]=8*e-8;T<i;T+=o){for(r=0;r<80;r++)e=w(u,5)+c+(r<20?1518500249+(d&h^~d&l):r<40?1859775393+(d^h^l):r<60?2400959708+(d&h^d&l^h&l):3395469782+(d^h^l))+(s[r]=r<o?0|f[T+r]:w(s[r-3]^s[r-8]^s[r-14]^s[r-16],1)),c=l,l=h,h=w(d,30),d=u,u=e;v[0]=u=v[0]+u|0,v[1]=d=v[1]+d|0,v[2]=h=v[2]+h|0,v[3]=l=v[3]+l|0,v[4]=c=v[4]+c|0}for(r=0;r<n;r++)b+=(v[r>>3]>>>4*(7-(7&r))&15).toString(16);return b}function V(t){return/^[0-9a-f]{11,}$/i.test(t)&&t}function $(t){return kt(t==null?"":""+t)}function z(t,i){var n=t.canvas,o=n.width,r=n.height;t.save(),i||(i=Math.min(o,r),t.translate((o-i)/2|0,(r-i)/2|0)),this.l=t,this.k=i,t.clearRect(0,0,i,i)}P.g=function(t,i){for(var n=this,o=i?-2:2,r=[],e=i?t.length-2:0;e<t.length&&e>=0;e+=o)r.push(n.A.L(t[e],t[e+1]));this.M.g(r)},P.h=function(t,i,n,o){var r=this.A.L(t,i,n,n);this.M.h(r,n,o)},P.i=function(t,i,n,o,r){this.g([t,i,t+n,i,t+n,i+o,t,i+o],r)},P.j=function(t,i,n,o,r,e){var a=[t+n,i,t+n,i+o,t,i+o,t,i];a.splice((r||0)%4*2,2),this.g(a,e)},P.N=function(t,i,n,o,r){this.g([t+n/2,i,t+n,i+o/2,t+n/2,i+o,t,i+o/2],r)};var M=z.prototype;function Lt(t,i,n,o){if(!t)throw new Error("No canvas specified.");X(new z(t,n),V(i)||$(i),o);var r=t.canvas;r&&(r[K]=!0)}function A(t){return(10*t+.5|0)/10}function ut(){this.B=""}M.m=function(t){var i=this.l,n=this.k;i.fillStyle=ot(t),i.fillRect(0,0,n,n)},M.O=function(t){var i=this.l;i.fillStyle=ot(t),i.beginPath()},M.P=function(){this.l.fill()},M.g=function(t){var i=this.l;i.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n++)i.lineTo(t[n].x,t[n].y);i.closePath()},M.h=function(t,i,n){var o=this.l,r=i/2;o.moveTo(t.x+r,t.y+r),o.arc(t.x+r,t.y+r,r,0,2*Math.PI,n),o.closePath()},M.finish=function(){this.l.restore()};var ft=ut.prototype;function Q(t){this.C,this.D={},this.R=t,this.k=t.k}ft.g=function(t){for(var i="",n=0;n<t.length;n++)i+=(n?"L":"M")+A(t[n].x)+" "+A(t[n].y);this.B+=i+"Z"},ft.h=function(t,i,n){var o=n?0:1,r=A(i/2),e=A(i),a="a"+r+","+r+" 0 1,"+o+" ";this.B+="M"+A(t.x)+" "+A(t.y+i/2)+a+e+",0"+a+-e+",0"};var N=Q.prototype;N.m=function(t){var i=/^(#......)(..)?/.exec(t),n=i[2]?g(i[2],0)/255:1;this.R.m(i[1],n)},N.O=function(t){this.C=this.D[t]||(this.D[t]=new ut)},N.P=function(){},N.g=function(t){this.C.g(t)},N.h=function(t,i,n){this.C.h(t,i,n)},N.finish=function(){var t=this,i=this.D;for(var n in i)i.hasOwnProperty(n)&&t.R.S(n,i[n].B)};var k={T:"http://www.w3.org/2000/svg",U:"width",V:"height"};function ct(t){this.k=t,this.F='<svg xmlns="'+k.T+'" width="'+t+'" height="'+t+'" viewBox="0 0 '+t+" "+t+'">'}var tt=ct.prototype;function _t(t,i,n){var o=new ct(i);return X(new Q(o),V(t)||$(t),n),o.toString()}function ht(t,i){for(var n=[],o=arguments.length-2;o-- >0;)n[o]=arguments[o+2];for(var r=document.createElementNS(k.T,i),e=0;e+1<n.length;e+=2)r.setAttribute(n[e],n[e+1]);t.appendChild(r)}function lt(t){var i=this.k=Math.min(Number(t.getAttribute(k.U))||100,Number(t.getAttribute(k.V))||100);for(this.W=t;t.firstChild;)t.removeChild(t.firstChild);t.setAttribute("viewBox","0 0 "+i+" "+i),t.setAttribute("preserveAspectRatio","xMidYMid meet")}tt.m=function(t,i){i&&(this.F+='<rect width="100%" height="100%" fill="'+t+'" opacity="'+i.toFixed(2)+'"/>')},tt.S=function(t,i){this.F+='<path fill="'+t+'" d="'+i+'"/>'},tt.toString=function(){return this.F+"</svg>"};var vt=lt.prototype;function Bt(){O&&C(W)}function Ot(){if(O)for(var t=O(W),i=0;i<t.length;i++){var n=t[i];n[K]||C(n)}}function C(t,i,n){dt(t,i,n,function(o,r){if(r)return r==et?new Q(new lt(o)):new z(o.getContext("2d"))})}function dt(t,i,n,o){if(typeof t!="string"){var r=V(i)||i!=null&&$(i)||V(t.getAttribute(S.t))||t.hasAttribute(S.o)&&$(t.getAttribute(S.o));if(r){var e=o(t,Y(t));e&&(X(e,r,n),t[K]=!0)}}else if(O)for(var a=O(t),f=0;f<a.length;f++)dt(a[f],i,n,o)}function Pt(t,i){return this.each(function(n,o){C(o,t,i)}),this}vt.m=function(t,i){i&&ht(this.W,"rect",k.U,"100%",k.V,"100%","fill",t,"opacity",i)},vt.S=function(t,i){ht(this.W,"path","fill",t,"d",i)};var p=Bt;bt(p),p.configure=xt,p.drawIcon=Lt,p.toSvg=_t,p.update=C,p.updateCanvas=C,p.updateSvg=C,p.version="3.3.0",p.bundle="browser-umd";var gt=J.jQuery;gt&&(gt.fn.jdenticon=Pt);function qt(){var t=(p[j.n]||J[j.G]||{}).replaceMode;t!="never"&&(Ot(),t=="observe"&&jt(C))}return Tt(qt),p}(L);"exports"in G?G.exports=_:L.jdenticon=_})(typeof self<"u"?self:Jt)})(it);var Kt=it.exports;const Wt={class:"wrapper"},Yt={class:"profile"},Zt=["innerHTML"],en=Dt({__name:"profile",setup(G){const L=pt(""),R=Ft(),_=pt("");return Vt(async()=>{var g;const m=await R.auth.getUser();if(m.data.user){const x=Kt.toSvg((g=m.data.user)==null?void 0:g.id,200);L.value=x;let{data:y,error:rt}=await R.from("profile").select("*").eq("user_id",m.data.user.id.toString());(y==null?void 0:y.length)!==0?_.value=y[0].username:U("/login")}else U("/login")}),(m,g)=>{const x=Rt;return Gt(),$t("div",Wt,[mt("div",Yt,[mt("div",{innerHTML:I(L)},null,8,Zt),Ht(" "+Ut(I(_))+" ",1),yt(x,{label:"Вход в систему",severity:"info",onClick:g[0]||(g[0]=y=>("navigateTo"in m?m.navigateTo:I(U))("/"))}),yt(x,{label:"Выход",severity:"danger",onClick:g[1]||(g[1]=y=>{I(R).auth.signOut(),("navigateTo"in m?m.navigateTo:I(U))("/login")})})])])}}});export{en as default};
